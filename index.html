<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Un Messaggio per Rachele</title>
    <style>
        body {
            background-color: #0d0d0d;
            color: #e0e0e0;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* Impedisce lo scrolling del corpo principale */
        }
        #container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
        }
        #ascii-art {
            white-space: pre;
            font-size: 10px;
            line-height: 1.0;
            text-align: left;
            flex-shrink: 1; /* Permette all'elemento di rimpicciolirsi se necessario */
            overflow: auto; /* Aggiunge barre di scorrimento se il contenuto è troppo grande */
        }
        #message {
            font-size: 18px;
            margin-top: 15px;
            height: 50px;
            text-align: center;
            flex-shrink: 0; /* Impedisce al messaggio di rimpicciolirsi */
        }
        #finale-container {
            display: none;
            text-align: center;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
        }

        /* --- NUOVA SEZIONE PER I TELEFONI --- */
        @media (max-width: 768px) {
            #ascii-art {
                font-size: 7px; /* Molto più piccolo per stare nello schermo */
                line-height: 0.9;
            }
            #message {
                font-size: 16px; /* Leggermente più piccolo */
                height: auto; /* Altezza automatica per adattarsi al testo */
                min-height: 40px;
            }
        }
        @media (max-width: 480px) {
            #ascii-art {
                font-size: 5px; /* Ancora più piccolo per i telefoni stretti */
                line-height: 0.8;
            }
        }

    </style>
</head>
<body>
    <div id="container">
        <pre id="ascii-art">Inizializzazione...</pre>
        <div id="message"></div>
        <div id="finale-container">
            <span id="messaggio-finale"></span>
            <button onclick="chiudiFinestra()">Premi qui per finire</button>
        </div>
    </div>

    <script>
        // --- Elementi della pagina ---
        const asciiDiv = document.getElementById("ascii-art");
        const messageDiv = document.getElementById("message");
        const finaleContainer = document.getElementById("finale-container");
        const messaggioFinaleSpan = document.getElementById("messaggio-finale");

        // --- CONFIGURAZIONE ---
        const PAUSA_LENTA = 3000;
        const PAUSA_LENTISSIMA = 5000;
        const VELOCITA_DISEGNO = 20;
        const PAUSA_PUNTINI = 400;

        // Messaggi
        const MESSAGGIO_INIZIALE = "...e ora, un messaggio dalla nostra sponsor.";
        const MESSAGGIO_GESTACCIO_INNOCENTE = "Cosa c'è? Ti sto solo... fissando. Sì, esatto.";
        const MESSAGGIO_RESIGNATO = "Uff, e va bene! Non volevo essere scortese!";
        const MESSAGGIO_SALUTO_FINALE = "Ecco, contenta adesso? Un saluto. Solo per te.";
        const MESSAGGIO_FINALE_TESTO = "Bene, abbiamo finito. Puoi... puoi andare ora.";

        // --- GRAFICA (usiamo backtick ` per le stringhe multiriga) ---
        const RACHELE_TI_AMO_ASCII = `
                         ,--,      ,--,                                                    ,----,       ,----,                   
        ,--,          ,---.'|   ,---.'|       ,----..                  ,--.              ,/   .\\|     ,/   .\\|                   
      ,--.'|    ,---,.|   | :   |   | :      /   /   \\             ,--/  /|   ,---,    ,\`   .'  :   ,\`   .'  :                   
   ,--,  | :  ,'  .' |:   : |   :   : |     /   .     :         ,---,': / ',--.' |  ;    ;     / ;    ;     /      ,---,        
,---.'|  : ',---.'   ||   ' :   |   ' :    .   /   ;.  \\        :   : '/ / |   :  :.'___,/    ,'.'___,/    ,'      /_ ./|        
|   | : _' ||   |   .';   ; '   ;   ; '   .   ;   /  \` ;        |   '   ,  :   |  '|    :     | |    :     | ,---, |  ' :        
:   : |.'  |:   :  |-,'   | |__ '   | |__ ;   |  ; \\ ; |        '   |  /   |   :  |;    |.';  ; ;    |.';  ;/___/ \\.  : |        
|   ' '  ; ::   |  ;/||   | :.'||   | :.'||   :  | ; | '        |   ;  ;   '   '  ;\`----'  |  | \`----'  |  | .  \\  \\ ,' '        
'   |  .'. ||   :   .''   :    ;'   :    ;.   |  ' ' ' :        :   '   \\  |   |  |    '   :  ;     '   :  ;  \\  ;  \`  ,'        
|   | :  | '|   |  |-,|   |  ./ |   |  ./ '   ;  \\; /  |        |   |    ' '   :  ;    |   |  '     |   |  '   \\  \\    '         
'   : |  : ;'   :  ;/|;   : ;   ;   : ;    \\   \\  ',  /         '   : |.  \\|   |  '    '   :  |     '   :  |    '  \\   |         
|   | '  ,/ |   |    \\|   ,/    |   ,/      ;   :    /          |   | '_\\.''   :  |    ;   |.'      ;   |.'      \\  ;  ;         
;   : ;--'  |   :   .''---'     '---'        \\   \\ .'           '   : |    ;   |.'     '---'        '---'         :  \\  \\        
|   ,/      |   | ,'                          \`---'        ,---,;   |,'    '---',--,    ,--,                       \\  ' ;        
'---'       '----'                                       ,--.' |'---'         ,--.'|  ,--.'|                        \`--\`         
                                                         |  |  :              |  | :  |  | :     ,---.                           
                 .--.--.                                 :  :  :              :  : '  :  : '    '   ,'\\                          
                /  /    '    ,--.--.        .--,         :  |  |,--.   ,---.  |  ' |  |  ' |   /   /   |                         
               |  :  /\`./   /       \\     /_ ./|         |  :  '   |  /     \\ '  | |  '  | |  .   ; ,. :                         
               |  :  ;_    .--.  .-. | , ' , ' :         |  |   /' : /    /  ||  | :  |  | :  '   | |: :                         
                \\  \\    \`   \\__\\/: . ./___/ \\: |         '  :  | | |.    ' / |'  : |__'  : |__'   | .; :                         
                 \`----.   \\ ," .--.; | .  \\ ' |         |  |  ' | :'   ;   /||  | '.'|  | '.'|   :    |                         
                /  /\`--'  //  /  ,.  |  \\  ;   :         |  :  :_:,''   |  / |;  :    ;  :    ;\\   \\  /                          
               '--'.     /;  :   .'   \\  \\  \\  ;         |  | ,'    |   :    ||  ,   /|  ,   /  \`----'                           
                 \`--'---' |  ,     .-./   :  \\  \\        \`--''       \\   \\  /  ---\`-'  ---\`-'                                    
                           \`--\`---'        \\  ' ;                     \`----'                                                     
                                            \`--\`                                                                                 
`;

        const HELLO_KITTY_GESTACCIO = `
===========================================================================================================
===========================================================================================================
===========================================================================================================
=========================================================-:::--============================================
======================================================-::-*##+-.:-=========================================
==================:.......::-========================.:*@@#++%@@+.:========--:......:-=====================
================-.:+@@@@@@#=:..:-==================-.-@@*======*@%-.===-:..:-+#@@@@@=:.-===================
===============:.-@@@*+*#%@@@@%+-..--===---:::::...:*@#=========+%@-...:=#@@@@%#**#@@%-.:==================
==============-.-@@*.......:-*@@@@#=....:-=*##%%%%%@@+===========+%@=*@@@@*=:......:#@@:.-=================
==============.:#@#............:=%@@@@@@@@@@@@@%%%@@+==============@@@@=:...........:%@%.:-================
=============-.-@@=................=%@#+.........#@*=======+%@@@@@%*@%-:.............+@@-:-================
=============-.=@@-.............................-@%=======*@%+==*@@@@@@@@#-.::::----:=@@=.-================
=============-.-@@-.............................+@#=======%@*=*@@*======+#@@@@@%%##%@@@@+.:================
=============-.:@@+.............................=@#=======#@%#@@==========+@%==========*@*.:===============
==============::*@%.............................:@%========*@@@+===========#@@*+========#%-.===============
==============-.-%@#=+-..........................=@%+========%@============#@*#@#=======%%-:===============
===============-.+@@@#:...........................-#@@%%%%%@@@@@==========+@%==#@+=====*@+.-===============
===============.:#@@=................................:::::::..=@@*=======*@%+=*@#=====*@*.:================
==============.:#@@:............................................+@@@@%@@@@*%%%#======*@#.:=================
=============:.#@%-................................................:=+#@+===========#@@@::-================
============:.*@@=....................................................:#@*========#@%*@@*.-================
===========-.-@@*.......................................................=@@%*+*@@@#:..%@@-:================
===========:.#@@:..........................................................-++=:......=@@*.-===============
===========:-%@*.......................................................................%@%-:===============
==========-.=@@=.......................................................................=@@=.-==============
=======---:.+@@:........................................................................@@*...::--=========
=-:.:------=#@@----...........--:.....................................:-:...........:--=%@%*++==---:::=====
=::*##+==+==#@@+=++-........-@@@@=...................................#@@@%:.........-==+@@%====+==**-.-====
=-:....:--:.+@@=............%@@@@@..................................=@@@@@+............:@@*:-###*:..:-=====
===========.-%@*............#@@@@@..................................-@@@@@=............=@@*##+:============
========--:..#@@=---........:%@@@-...............:---................+@@@+..........:--  #@ =======.-====
======-.-=+*##%%%++-...........:...............+@#***@*:............................=+#  #@ *##+===-======
======-.=+--:.:@@#:...........................-%#----+@-.............................*#%%% @@@@@-.:====
======:.-@@@@@@@@@%............................:#@@@@%:.........................:**:*@@@@@........@@@@==
====:.+@@%=:....-#@@**##=.......................................................:+%%%@@#............=@@=.:==
==-::%@*:......:=*#%@@*:.......................................................:=@@@@@+.............- @@=.-=
==:.%@*......=*#*-:.=@@@#:...................................................:#@@@+-@%-..............*@#.:=
=-:-@@-...:*##-......+@@@@@#:............................................:=%@@@%=..:@#:..............=@%::=
=-:-@@:...++-........=@#.=#@@@@*=-:................................:-=*%@@@@#=..:-::%@=.............:%@*.-=
==::@@=.............:#@+....-+#@@@@@%#*+=-:..............:-=++*#%@@@@@@%*=:.:--===-.=@@-...........:*@%::==
==-.=@@=............*@#:.===-:..::-+#@@@@@@@@@@@@@@@@@@@@@@@@@@@%*=-::..:-=========-.-@@#-........=@@*.:-==
===-.-@@#:........=@@*:.=========-:........:::--------:::........::-=================:.=@@@@#*#%@@@#-.:====
=====:.=%@@@#**#@@@#:.:===================------::::------============================-:.:-*###*=:.:-======
=======-::-+***+=-..:-====================================================================--::::--=========
===========--::---=========================================================================================
===========================================================================================================
===========================================================================================================
`;

        const HELLO_KITTY_SALUTO = `
===========================================================================================================
===========================================================================================================
===========================================================================================================
=========================================================-:::--============================================
======================================================-::-*##+-.:-=========================================
==================:.......::-========================.:*@@#++%@@+.:========--:......:-=====================
================-.:+@@@@@@#=:..:-==================-.-@@*======*@%-.===-:..:-+#@@@@@=:.-===================
===============:.-@@@*+*#%@@@@%+-..--===---:::::...:*@#=========+%@-...:=#@@@@%#**#@@%-.:==================
==============-.-@@*.......:-*@@@@#=....:-=*##%%%%%@@+===========+%@=*@@@@*=:......:#@@:.-=================
==============.:#@#............:=%@@@@@@@@@@@@@%%%@@+==============@@@@=:...........:%@%.:-================
=============-.-@@=................=%@#+.........#@*=======+%@@@@@%*@%-:.............+@@-:-================
=============-.=@@-.............................-@%=======*@%+==*@@@@@@@@#-.::::----:=@@=.-================
=============-.-@@-.............................+@#=======%@*=*@@*======+#@@@@@%%##%@@@@+.:================
=============-.:@@+.............................=@#=======#@%#@@==========+@%==========*@*.:===============
==============::*@%.............................:@%========*@@@+===========#@@*+========#%-.===============
==============-.-%@#=+-..........................=@%+========%@============#@*#@#=======%%-:===============
===============-.+@@@#:...........................-#@@%%%%%@@@@@==========+@%==#@+=====*@+.-===============
===============.:#@@=................................:::::::..=@@*=======*@%+=*@#=====*@*.:================
==============.:#@@:............................................+@@@@%@@@@*%%%#======*@#.:=================
=============:.#@%-................................................:=+#@+===========#@@@::-================
============:.*@@=....................................................:#@*========#@%*@@*.-================
===========-.-@@*.......................................................=@@%*+-..*@@@#:.%@@-:================
===========:.#@@:..........................................................-++=:......=@@*.-===============
===========:-%@*.......................................................................%@%-:===============
==========-.=@@=.......................................................................=@@=.-==============
=======---:.+@@:........................................................................@@*...::--=========
=-:.:------=#@@----...........--:.....................................:-:...........:--=%@%*++==---:::=====
=::*##+==+==#@@+=++-........-@@@@=...................................#@@@%:.........-==+@@%====+==**-.-====
=-:....:--:.+@@=............%@@@@@..................................=@@@@@+............:@@*:-###*:..:-=====
===========.-%@*............#@@@@@..................................-@@@@@=............=@@# @@@@@%::======
========--:..#@@=---........:%@@@-...............:---................+@@@+..........:--=@@#@....@@=.-====
======-.-=+*##%%%++-...........:...............+@#***@*:............................=+#  # @....@-======
======-.=+--:.:@@#:...........................-%#----+@-.............................*#%%%#@....@%-.:====
======:.-@@@@@@@@@%............................:#@@@@%:.........................:**:*@@@@@@@....@%:.:===
====:.+@@%=:....-#@@**##=.......................................................:+%%%@@#..*@....@*=@@=.:==
==-::%@*:......:=*#%@@*:.......................................................:=@@@@@+...*@....@@+.-@@=.-=
==:.%@*......=*#*-:.=@@@#:...................................................:#@@@+-@%-..............*@#.:=
=-:-@@-...:*##-......+@@@@@#:............................................:=%@@@%=..:@#:..............=@%::=
=-:-@@:...++-........=@#.=#@@@@*=-:................................:-=*%@@@@#=..:-::%@=.............:%@*.-=
==::@@=.............:#@+....-+#@@@@@%#*+=-:..............:-=++*#%@@@@@@%*=:.:--===-.=@@-...........:*@%::==
==-.=@@=............*@#:.===-:..::-+#@@@@@@@@@@@@@@@@@@@@@@@@@@@%*=-::..:-=========-.-@@#-........=@@*.:-==
===-.-@@#:........=@@*:.=========-:........:::--------:::........::-=================:.=@@@@#*#%@@@#-.:====
=====:.=%@@@#**#@@@#:.:===================------::::------============================-:.:-*###*=:.:-======
=======-::-+***+=-..:-====================================================================--::::--=========
===========--::---=========================================================================================
===========================================================================================================
===========================================================================================================
`;
        
        // --- Funzioni di supporto ---
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function mostraScena(artwork = "", messaggio = "", pausa = 0) {
            asciiDiv.textContent = artwork;
            messageDiv.textContent = messaggio;
            if (pausa > 0) {
                await sleep(pausa);
            }
        }

        async function animazionePunti(artwork, durata) {
            asciiDiv.textContent = artwork;
            const stati = ['.  ', '.. ', '...'];
            const startTime = Date.now();
            let i = 0;
            while (Date.now() - startTime < durata) {
                messageDiv.textContent = stati[i % stati.length];
                await sleep(PAUSA_PUNTINI);
                i++;
            }
        }
        
        function chiudiFinestra() {
            document.getElementById("container").innerHTML = "<h1>Arrivederci!</h1>";
        }

        // --- FLUSSO PRINCIPALE ---
        async function main() {
            await mostraScena("Inizializzazione...", "", 1000);

            // Atto 0: La Grande Rivelazione
            const righe = RACHELE_TI_AMO_ASCII.split('\n');
            let testoTemp = "";
            for (const riga of righe) {
                testoTemp += riga + '\n';
                asciiDiv.textContent = testoTemp;
                await sleep(VELOCITA_DISEGNO);
            }
            messageDiv.textContent = "";
            await sleep(PAUSA_LENTISSIMA);

            // Atto 1: Inizio della commedia
            await mostraScena("", MESSAGGIO_INIZIALE, PAUSA_LENTA);
            await mostraScena(HELLO_KITTY_GESTACCIO, MESSAGGIO_GESTACCIO_INNOCENTE, PAUSA_LENTISSIMA);

            // Atto 2: Il panico
            await animazionePunti(HELLO_KITTY_GESTACCIO, PAUSA_LENTISSIMA);

            // Atto 3: La resa
            await mostraScena("", MESSAGGIO_RESIGNATO, PAUSA_LENTA);
            await mostraScena(HELLO_KITTY_SALUTO, MESSAGGIO_SALUTO_FINALE, PAUSA_LENTISSIMA);

            // Conclusione
            await mostraScena();
            messaggioFinaleSpan.textContent = MESSAGGIO_FINALE_TESTO;
            finaleContainer.style.display = "block";
        }

        // Avvia la funzione principale
        main();
    </script>
</body>
</html>
